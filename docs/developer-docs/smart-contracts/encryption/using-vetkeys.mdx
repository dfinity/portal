---
keywords: [advanced, tutorial, vetkeys, vetkd]
---

import TabItem from "@theme/TabItem";
import { BetaChip } from "/src/components/Chip/BetaChip";
import { MarkdownChipRow } from "/src/components/Chip/MarkdownChipRow";
import Tabs from "@theme/Tabs";

# vetKeys example

<MarkdownChipRow labels={["Advanced", "Tutorial"]} />

This example provides a canister (`src/chainkey_testing_canister`) that demonstrates how the [proposed vetKD system API](https://github.com/dfinity/portal/pull/3763) can be used to encrypt, transfer, and decrypt a file sent to an Ethereum address.

A live demo is available: https://h62xu-2iaaa-aaaal-qshoq-cai.icp0.io/

This example uses [`ic-siwe`](https://github.com/kristoferlund/ic-siwe) and [`ic-siwe-js`](https://www.npmjs.com/package/ic-siwe-js) to facilitate signing in with Ethereum, sending to an Ethereum address, and using the recipient's address to to identify the IBE scheme used to generate a public key for the recipient.

## Create a file transfer

1. Get recipient's public key

Specify recipient's Ethereum address, then the `vetkd_public_key` method retrieves the recipient's public key using their Ethereum address to identify the IBE scheme that generates the public key.



```rust reference https://github.com/kristoferlund/send_file_to_eth_demo/blob/main/src/backend/src/vetkd/controller/vetkd_public_key.rs
```

:::info
This example uses a local test vetKeys canister. When the feature is available, this should be replaced with the actual vetKeys API.
:::

2. Encrypt file in the frontend


3. Store encrypted file in the backend


## Receive and decrypt a file
