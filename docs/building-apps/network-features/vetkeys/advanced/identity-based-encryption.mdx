---

keywords: [advanced, concept, vetkd, vetkeys, encryption, identity based encryption, threshold decryption, encrypted threshold key derivation]

---

import { MarkdownChipRow } from "/src/components/Chip/MarkdownChipRow";

# Identity-based encryption (IBE)

<MarkdownChipRow labels={["Advanced", "Identity-based encryption"]} />



Identity-based encryption allows you to encrypt information to an **identity**:

An identity is essentially a string of characters. A canister can define who gets a private key for each defined identity.

No one except the authorized user can "see" the private key. The private key is constructed from secret shares, computed by the network's nodes. The shares are encrypted using the user-provided public transport key. The user decrypts the encrypted private key upon receipt using their private transport key.

A simple instantiation of IBE on ICP is encryption to other principals. An identity is a principal, and users encrypt data, such as messages or files, for other users authorized with their principals.
vetKeys can be used for Identity-based encryption (IBE).
## Benefits of IBE

IBE removes the need for generating, distributing, and storing users' encryption keys and allows a user to obtain the private key for their identity, e.g., a principal.

## Using IBE with vetKeys

Any encryption and decryption should happen on the client side. Any data encrypted or decrypted in the canister becomes public data.

- **Encryption**: Obtain public key from ICP. Use the frontend library `ic_vetkeys` to encrypt data.
- **Decryption**: Obtain the encrypted IBE private key, then obtain encrypted data from the canister or other storage location. Decrypt the IBE-encrypted data in the frontend using the frontend `ic_vetkeys` library

TODO: code snippets and explanation

## Comparison with distributed key management service (DKMS)

Distributed key management service (DKMS) is a key management system that facilitates key derivation and management, as well as encryption. It provides a higher-level abstraction, allowing developers to work with plaintext data without requiring extensive cryptographic knowledge.

DKMS operates on symmetric key scopes. If the user can encrypt for a key, then that user can also decrypt. This is different in IBE. Any user can encrypt data for any IBE public key, but only the users that can obtain the **IBE private key** can decrypt. This allows for one-way encryption to an identity. Therefore, the use case for IBE is where a set of users encrypts data to another set of users. See also [timelock encryption](/docs/building-apps/network-features/vetkeys/advanced/identity-based-encryption) for more use cases of IBE.

## Demos

- [Use IBE to encrypt and send files to Ethereum wallets using a React frontend and Rust backend](https://github.com/kristoferlund/send_file_to_eth_demo).