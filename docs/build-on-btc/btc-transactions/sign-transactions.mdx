---
keywords: [bitcoin, btc, tutorial, sign transactions, sign btc, sign btc transaction, sign bitcoin transactions]
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import { MarkdownChipRow } from "/src/components/Chip/MarkdownChipRow";

# Signing transactions

<MarkdownChipRow labels={["Bitcoin"]} />

Before a transaction can be sent to the Bitcoin network, each input must be signed.

## Threshold ECDSA

Canisters can sign transactions with threshold ECDSA through the [`sign_with_ecdsa`](/docs/build-on-btc/btc-api) method.

The following snippet shows a simplified example of how to sign a Bitcoin transaction for the special case where all the inputs are referencing outpoints that are owned by `own_address` and `own_address` is a `P2PKH` address.

<Tabs groupId="languages">
<TabItem value="motoko" label="Motoko" default>

```motoko no-repl reference
https://github.com/dfinity/examples/blob/master/motoko/basic_bitcoin/src/basic_bitcoin/src/P2pkh.mo#L149-L226
```

</TabItem>
<TabItem value="rust" label="Rust">

```rust reference
https://github.com/dfinity/examples/blob/master/rust/basic_bitcoin/src/p2pkh.rs#L58-L117
```

</TabItem>
</Tabs>

## Threshold Schnorr

Canisters can sign transactions with threshold Schnorr through the [`sign_with_schnorr`](/docs/build-on-btc/btc-api) method.

### Signing P2TR key path transactions

<Tabs groupId="languages">
<TabItem value="motoko" label="Motoko" default>

```motoko no-repl reference
https://github.com/dfinity/examples/blob/master/motoko/basic_bitcoin/src/basic_bitcoin/src/P2tr.mo#L145-L185
```

</TabItem>

<TabItem value="rust" label="Rust" default>

```rust reference
https://github.com/dfinity/examples/blob/master/rust/basic_bitcoin/src/p2tr.rs#L187-L248
```

</TabItem>
</Tabs>

### Signing P2TR script path transactions


<Tabs groupId="languages">

<TabItem value="motoko" label="Motoko" default>

```motoko no-repl reference
https://github.com/dfinity/examples/blob/master/motoko/basic_bitcoin/src/basic_bitcoin/src/P2tr.mo#L187-L243
```

</TabItem>

<TabItem value="rust" label="Rust" default>

```rust reference
https://github.com/dfinity/examples/blob/master/rust/basic_bitcoin/src/p2tr.rs#L116-L185
```

</TabItem>
</Tabs>

## Resources

[Learn more about threshold ECDSA](/docs/building-apps/network-features/signatures/t-ecdsa).

[Learn more about threshold Schnorr](/docs/building-apps/network-features/signatures/t-schnorr).